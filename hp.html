<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            padding: 0; 
            margin: 0;
            text-align:center;
            }
            canvas{
                border-radius: 20PX;
            }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
</head>
<body>
    <canvas id="main"></canvas>
     <button class="btn">扣血</button>
     <div class="hpBar"></div>


     <canvas id="main2"></canvas>
     <button class="btn2">扣血</button>
     <div class="hpBar2"></div>
    <script>
   var btn=document.querySelector('.btn')
   var hpBar=document.querySelector('.hpBar')
   var hp=300;
   btn.addEventListener('click',function(){
        if(hp==0){
            hp=0;
            alert('您的召喚獸小痔已經被擊殺');
            var keepPlaying=confirm('是否重新開始')
            if(keepPlaying){
                window.location.reload();
            }else{
                alert('Game Over gg')
            }
        }else{
            hp-=30
        }
        console.log(hp)
        container.hpStatus.width = hp;
        hpBar.innerHTML='小痔的剩餘血量是:'+hp
   })     
 const app = new PIXI.Application({
  view: document.getElementById('main'),
  width: 300,
  height: 30,
  antialias: true,
  transparent: false,
  backgroundColor: 0x00CC99,
});

const container = new PIXI.Container();
app.stage.addChild(container);

let graphics = new PIXI.Graphics();
graphics.beginFill(0x000000);
graphics.drawRoundedRect(0, 0, 300, 30, 10);
graphics.endFill();
container.addChild(graphics);

let graphics2 = new PIXI.Graphics();
graphics2.beginFill(0xFF0000);
graphics2.drawRoundedRect(0, 0, 300, 30, 10);
graphics2.endFill();
container.addChild(graphics2);



container.hpStatus = graphics2;

container.x =0;
container.y = 0;

container.hpStatus.width = hp;


    </script>
</body>
</html>